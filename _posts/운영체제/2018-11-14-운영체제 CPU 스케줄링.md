---
title: 운영체제 CPU 스케줄링   
description: 운영체제 CPU 스케줄링   
categories:
 - 운영체제
tags:
---  

# CPU 스케줄링

## 스케줄링의 개요  
* CPU 스케줄러  
: 프로세스가 생성된 후 종료 될 때 까지 모든 상태 변화를 조정하는 일.

#### 스케줄링의 단계  


단계|하는 일  
--|--
고수준 스케줄링|시스템 내 작업(1개 또는 여러개 프로세스) 수 정하기
중간수준 스케줄링|과부하막기, 일부 프로세스를 중지상태로 옮김으로써 프로세스가 원만하게 작동하도록 지원  
저수준 스케줄링|저수준 스케줄링은 어떤 프로세스에 CPU를 할당할지, 어떤 프로세스를 대기 상태로 보낼지 등   


#### 스케줄링의 목적  
공평성, 효율성, 안정성, 반응 시간 보장, 무한 연기 방지
<br>
<br>

## 스케줄링 시 고려 사항
#### 선점형 스케줄링과 비선점형 스케줄링  
**선점형 스케줄링**: 어떤 CPU가 자원을 할당 받아 실행중이어도, 운영체제가 CPU를 강제로 빼앗을 수 있는 스케줄링 방식  

**비선점형 스케줄링**: 어떤 CPU가 자원을 할당 받아 실행중이라면 CPU를 빼앗을 수 없는 스케줄링 방식.  

구분|선점형|비선점형  
--|:--|:--  
작업 방식|실항 상태에 있는 작업을 중단 시키고 새로운 작업을 실행 할 수 있다.|실행상태에 있는 작업이 완료될 때까지 다른 작업이 불가능하다.
장점|프로세스가 CPU를 독점할 수 없어 대화형이나 시분할 시스템에 적합하다.|CPU 스케줄러의 작업량이 적고 문맥 교환의 오버헤드가 적다.  
단점|문맥 교환의 오버헤드가 많다|기다리는 프로세스가 많아 처리율이 떨어진다.
사용|시분할 방식 스케줄러에 사용된다|일괄 작업 방식 스케줄러에 사용된다.
중요도|높다|낮다


<br>

#### CPU 스케줄링 시 고려 사항

우선순위 높음|우선순위 낮음  
--|--
커널 프로세스|일반 프로세스
전면 프로세스|후면 프로세스
대화형 프로세스|일괄 처리 프로세스
입출력 집중 프로세스|CPU 집중 프로세스

## 다중 큐  
다중큐:  
준비상태의 큐를 우선순위에 따라 나누어 다중으로 나타낸 큐  



## 스케줄링 알고리즘  
#### 스케줄링 알고리즘의 선택 기준
CPU사용률, 처리량, 대기 시간, 응답 시간, 반환 시간  

구분 | 종류  
--|--  
비선점형 알고리즘 | FCFS,  SJF,  HRN  
선점형 알고리즘 | 라운드로빈,  SRT,  다단계 큐,  다단계 피드백 큐  
둘 다 가능 | 우선순위 알고리즘  

#### FCFS 스케줄링  
* 준비 큐에 **도착한 순서**대로 CPU를 할당하는 비선점형 방식  
* 큐가 하나이르모 모든 프로세스의 우선순위가 동일  
* 입출력 작업을 요청하는 경우 CPU가 쉬는시간이 많아져 비효율적.

#### SJF 스케줄링  
* **실행시간이 가장 짧은**  작업부터 CPU를 할당하는 비선점형 방식  
실행시간이 짧은 것만 실행하다보면 가장 긴 실행시간을 가진 작업은 뒤로 밀린다. 이를 아사현상(*starvation*)이라고 한다
* 아사현상(*starvation*) : 작업이 계속연기되는 경우  
* 에이징 : 프로세스가 양보할 수 있는 상한선을 정하는 방식  
ex) 순서를 양보할 때 마다 나이를 1살씩 먹어 세 살먹으면 무조건 실행  

* 종료시간을 파악하기 어렵고 아사현상이 일어나기 쉬움  

#### HRN 스케줄링  
* 우선순위 = (대기 시간 + CPU사용시간) / CPU사용시간  
* 이 우선순위 방식으로 정함.

#### 라운드 로빈 스케줄링  
* 타임 슬라이스 : 작업이 실행되는 일정 시간.
* 타임 슬라이스 동안만 작업할 수 있으며, 작업이 다 끝나지 않으면 큐의 뒤쪽에 다시 삽입.
* 우선순위 적용 X  

* **타임슬라이스의 크기**와 **문맥교환**
  - 타임슬라이스가 **큰** 경우 : 반응 속도가 매우느림.
  - 타임슬라이스가 **작은** 경우 : 문맥교환에 많은 시간을 낭비하여 실제 작업 X

#### SRT  우선 스케줄링  
* SJF 스케줄링의 선점형 버전  
* CPU를 할당받을 프로세스를 선택 할 때 남아 있는 작업 시간이 가장 적은 프로세스를 선택  
* 남은시간을 주기적으로 계산하고 문맥교환을 해야하므로 작업이 더 증가

#### 우선순위 스케줄링  
* 우선순위를 어떤 기준으로 정하느냐에 따라 다양하게 구현가능  
* 비선점형 방식  

#### 다단계 큐 스케줄링  
* 라운드로빈 방식으로 운영되는 큐  
* 우선순위에 따라 해당 우선순위의 큐에 삽입된다.

#### 다단계 피드백 스케줄링  
* CPU를 사용하고 난 프로세스의 우선순위가 낮아진다.  
* 우선순위에 따라 타임 슬라이스의 크기가 다르다.
어렵게 얻은 CPU를 좀 더 오랫동안 사용할 수 있도록 우선순위가 낮은 큐의 타임슬라이스를 크게 설정  
